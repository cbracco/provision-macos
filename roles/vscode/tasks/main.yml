# Clones and symlinks VSCode keybindings and settings
# https://github.com/geerlingguy/ansible-role-dotfiles
- include_role:
    name: geerlingguy.dotfiles

# Installs VSCode extensions via the command line (`code`)
# Note: There is currently no support for a config file
- name: Get existing VSCode extensions
  shell: "code --list-extensions"
  register: vscode_existing_extensions

- name: Install VSCode extensions
  shell: "code --install-extension {{ item }}"
  when: item not in vscode_existing_extensions.stdout_lines
  with_items: "{{ vscode_extensions }}"
